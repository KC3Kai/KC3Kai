/* K2Badge.js

   Mapping master ids to KanColle Badge Generator(KBG) ids

   terms:

   * Master Id: used in api_start2
   * Colle Id & Unique Id: used in "Poster Collection" of KBG
   * Kaini Id: used in "Kai Ni + BP" of KBG
   * Fleet Id: used in "Fleets" of KBG
   * Origin ship: ships that does not have previous model,
       in other words, they are "root"s of ship remodel chains.

   * K2Badge.mstId2ColleTable & K2Badge.colle2MstIdTable
       Every non-abyssal ship can backtrack to exactly one origin ship,
       which is what "Poster Collection" records.
       Master Id and Colle Id has 1-1 correpondence.
       (There is one special case: "hiryuu2" (Hiryuu Kai 2) is a colle id / unique id
       while the origin ship "hiryuu1" is not used)

   * K2Badge.mstId2KainiTable
       Ships that has kai ni remodel or consumes blueprints for remodeling.
       Every master id can be mapped uniquely to one kaini id, but note that
       when a kanmusu has more than one kai2 forms, all share the same kai2 id
       (e.g. kasumi, shoukaku and zuikaku)
       Therefore the reverse mapping might not be correct.

   * K2Badge.mstId2FleetIdTable
       Many-to-one correpondence between master id and fleet id.
       because some ships share pictures with her previous remodels.
       (K2Badge.fleetId2MstIdTable is left out on purpose because of this)

   * K2Badge.k2Template
       a template of "k2" field. Do not modify.
       (use deep copy or traverse it to build your own)

   Note:
   * jquery required (for $.extend)
   * think this module as a set of constant tables, don't modify
   * Bismarck drei (178) is remodelled from Bismarck zwei (173)
     so if user has Bismarck drei, you might want to make a special case
     to include Bismarck zwei as well.

*/
(function() {
    "use strict";

    window.K2Badge = {
        init: function () {
            function reverseTable(xs){
                var obj = {};
                $.each(xs, function(k,v) {
                    obj[v] = k;
                });
                return obj;
            }
            var kaini2MstIdTable = reverseTable(this.mstId2KainiTable);
            this.mstId2ColleTable = reverseTable(this.colle2MstIdTable);

            var fleetId2MstIdTable =
                $.extend({},
                         this.colle2MstIdTable,
                         kaini2MstIdTable,
                         this.fidToMidPatch);

            var mstId2FleetIdTable = reverseTable(fleetId2MstIdTable);
            mstId2FleetIdTable = $.extend(
                mstId2FleetIdTable,
                this.mstId2FleetIdTable_missing);
            this.mstId2FleetIdTable = mstId2FleetIdTable;
        },
        mstId2KainiTable: {
            "118":"ooi3",
            "119":"kitakami3",
            "141":"isuzu2",
            "142":"kinugasa2",
            "144":"yuudachi2",
            "145":"shigure2",
            "146":"kiso2",
            "147":"verniy1",
            "149":"kongou2",
            "150":"hiei2",
            "151":"haruna2",
            "152":"kirishima2",
            "157":"ryuujou3",
            "158":"sendai2",
            "159":"jintsuu2",
            "160":"naka2",
            "173":"bismarck3",
            "178":"bismarck4",
            "179":"z12",
            "180":"z32",
            "188":"tone2",
            "189":"chikuma2",
            "192":"nachi2",
            "193":"ashigara2",
            "194":"haguro2",
            "195":"ayanami2",
            "196":"hiryuu2",
            "197":"souryuu2",
            "200":"abukuma2",
            "296":"chitosecvl2",
            "297":"chiyodacvl2",
            "318":"ryuuhou2",
            "319":"myoukou2",
            "326":"hatsuharu2",
            "406":"unryuu2",
            "407":"ushio2",
            "408":"junyou2",
            "411":"fusou3",
            "412":"yamashiro3",
            "416":"furutaka2",
            "417":"kako2",
            "418":"satsuki2",
            "419":"hatsushimo2",
            "420":"murakumo3",
            "426":"fubuki2",
            "427":"choukai2",
            "428":"maya2",
            "429":"amagi2",
            "430":"katsuragi2",
            "434":"mutsuki3",
            "435":"kisaragi3",
            "436":"ro5001",
            "437":"akatsuki2",
            "446":"italia1",
            "447":"roma2",
            "461":"shoukaku2",
            "462":"zuikaku3",
            "464":"kasumi2",
            // NOTE: the following 3 should only be used in k2
            "466":"shoukaku2",
            "467":"zuikaku3",
            "470":"kasumi2"
        },
        colle2MstIdTable: {
            "shimakaze1":50,
            "fubuki1":9,
            "shirayuki1":10,
            "hatsuyuki1":32,
            "miyuki1":11,
            "murakumo1":33,
            "isonami1":12,
            "ayanami1":13,
            "shikinami1":14,
            "oboro1":93,
            "akebono1":15,
            "sazanami1":94,
            "ushio1":16,
            "mutsuki1":1,
            "kisaragi1":2,
            "satsuki1":28,
            "fumizuki1":29,
            "nagatsuki1":6,
            "kikuzuki1":30,
            "mikazuki1":7,
            "mochizuki1":31,
            "yayoi1":164,
            "uzuki1":165,
            "akatsuki1":34,
            "hibiki1":35,
            "ikazuchi1":36,
            "inazuma1":37,
            "hatsuharu1":38,
            "nenohi1":39,
            "wakaba1":40,
            "hatsushimo1":41,
            "shiratsuyu1":42,
            "shigure1":43,
            "murasame1":44,
            "yuudachi1":45,
            "samidare1":46,
            "suzukaze1":47,
            "harusame1":405,
            "umikaze1":458,
            "kawakaze1":459,
            "asashio1":95,
            "ooshio1":96,
            "michishio1":97,
            "arashio1":98,
            "arare1":48,
            "kasumi1":49,
            "asagumo1":413,
            "yamagumo1":414,
            "kagerou1":17,
            "shiranui1":18,
            "kuroshio1":19,
            "hatsukaze1":190,
            "maikaze1":122,
            "akigumo1":132,
            "urakaze1":168,
            "tanikaze1":169,
            "hamakaze1":170,
            "isokaze1":167,
            "tokitsukaze1":186,
            "nowaki1":415,
            "yukikaze1":20,
            "amatsukaze1":181,
            "arashi1":454,
            "hagikaze1":455,
            "yuugumo1":133,
            "makigumo1":134,
            "kazagumo1":453,
            "naganami1":135,
            "hayashimo1":409,
            "kiyoshimo1":410,
            "takanami1":424,
            "asashimo1":425,
            "z11":174,
            "z31":175,
            "akizuki1":421,
            "teruzuki1":422,
            "libeccio1":443,
            "tenryuu1":51,
            "tatsuta1":52,
            "kuma1":99,
            "tama1":100,
            "kiso1":101,
            "kitakami1":25,
            "ooi1":24,
            "nagara1":21,
            "isuzu1":22,
            "natori1":53,
            "yura1":23,
            "kinu1":113,
            "abukuma1":114,
            "sendai1":54,
            "jintsuu1":55,
            "naka1":56,
            "yuubari1":115,
            "agano1":137,
            "noshiro1":138,
            "yahagi1":139,
            "sakawa1":140,
            "ooyodo1":183,
            "katori1":154,
            "kashima1":465,
            "furutaka1":59,
            "kako1":60,
            "aoba1":61,
            "kinugasa1":123,
            "myoukou1":62,
            "nachi1":63,
            "haguro1":65,
            "ashigara1":64,
            "takao1":66,
            "atago1":67,
            "maya1":68,
            "choukai1":69,
            "tone1":71,
            "chikuma1":72,
            "mogami1":70,
            "mikuma1":120,
            "suzuya1":124,
            "kumano1":125,
            "prinzeugen1":176,
            "nagato1":80,
            "mutsu1":81,
            "kongou1":78,
            "hiei1":86,
            "haruna1":79,
            "kirishima1":85,
            "fusou1":26,
            "yamashiro1":27,
            "ise1":77,
            "hyuuga1":87,
            "yamato1":131,
            "musashi1":143,
            "bismarck1":171,
            "littorio1":441,
            "roma1":442,
            "houshou1":89,
            "ryuujou1":76,
            "hiyou1":75,
            "junyou1":92,
            "shouhou1":74,
            "zuihou1":116,
            "akagi1":83,
            "kaga1":84,
            "souryuu1":90,
            "hiryuu2":91,
            "shoukaku1":110,
            "zuikaku1":111,
            "taihou1":153,
            "unryuu1":404,
            "amagi1":331,
            "katsuragi1":332,
            "graf1":432,
            "i1681":126,
            "i581":127,
            "i191":191,
            "i81":128,
            "i4011":155,
            "maruyu1":163,
            "u5111":431,
            "chitose1":102,
            "chiyoda1":103,
            "akitsumaru1":161,
            "akashi1":182,
            "taigei1":184,
            "akitsushima1":445,
            "mizuho1":451,
            "hayasui1":460,
            "hatsuzuki1":423,
            "okinami1":452,
            "zara1":448
        },
        k2Template: {
            "dd":{
                "fubuki2":false,
                "murakumo3":false,
                "ayanami2":false,
                "mutsuki3":false,
                "kisaragi3":false,
                "ushio2":false,
                "akatsuki2":false,
                "verniy1":false,
                "hatsuharu2":false,
                "hatsushimo2":false,
                "yuudachi2":false,
                "shigure2":false,
                "kasumi2":false,
                "z12":false,
                "z32":false,
                "satsuki2":false
            },
            "cl":{
                "kitakami3":false,
                "ooi3":false,
                "kiso2":false,
                "abukuma2":false,
                "isuzu2":false,
                "sendai2":false,
                "jintsuu2":false,
                "naka2":false
            },
            "ca":{
                "furutaka2":false,
                "kako2":false,
                "kinugasa2":false,
                "myoukou2":false,
                "nachi2":false,
                "haguro2":false,
                "ashigara2":false,
                "maya2":false,
                "choukai2":false,
                "tone2":false,
                "chikuma2":false
            },
            "bb":{
                "kongou2":false,
                "hiei2":false,
                "haruna2":false,
                "kirishima2":false,
                "fusou3":false,
                "yamashiro3":false,
                "bismarck3":false,
                "bismarck4":false,
                "italia1":false,
                "roma2":false
            },
            "cvl":{
                "ryuujou3":false,
                "junyou2":false,
                "chitosecvl2":false,
                "chiyodacvl2":false,
                "ryuuhou2":false
            },
            "cv":{
                "souryuu2":false,
                "hiryuu2":false,
                "shoukaku2":false,
                "zuikaku3":false,
                "unryuu2":false,
                "amagi2":false,
                "katsuragi2":false
            },
            "ss":{
                "ro5001":false
            }
        },
        // fleet id -> master id patch
        // cases where remodels have their own pictures
        fidToMidPatch: {
            "akashi2":187,
            "akitsumaru2":166,
            "akitsushima2":450,
            "amatsukaze2":316,
            "asagumo2":327,
            "asashimo2":344,
            "bismarck2":172,
            "chitose2":104,
            "chitose3":106,
            "chitosecvl1":108,
            "chiyoda2":105,
            "chiyoda3":107,
            "chiyodacvl1":109,
            "fusou2":286,
            "graf2":353,
            "harusame2":323,
            "hayasui2":352,
            "hiryuu1":91,
            "hiyou2":283,
            "hyuuga2":88,
            "ise2":82,
            "isokaze2":320,
            "kasumi2":464,
            "kasumi3":470,
            "kitakami2":58,
            "kumano2":130,
            "mikuma2":121,
            "mogami2":73,
            "murasame2":244,
            "musashi2":148,
            "nagara2":218,
            "natori2":221,
            "oboro4":230,
            "ooi2":57,
            "ooyodo2":321,
            "prinzeugen2":177,
            "ryuuhou1":185,
            "ryuujou2":281,
            "shiratsuyu2":242,
            "shouhou3":282,
            "shoukaku2":461,
            "shoukaku3":466,
            "suzuya2":129,
            "taihou2":156,
            "takanami2":345,
            "uzuki2":309,
            "yamagumo2":328,
            "yamashiro2":287,
            "yamato2":136,
            "zuihou2":117,
            "zuikaku2":112,
            "zuikaku3":462,
            "zuikaku4":467
        },
        // master id -> fleet id
        // cases where remodels use the picture of their previous model
        mstId2FleetIdTable_missing: {
            "201":"fubuki1",
            "202":"shirayuki1",
            "203":"hatsuyuki1",
            "204":"miyuki1",
            "205":"murakumo1",
            "206":"isonami1",
            "207":"ayanami1",
            "208":"shikinami1",
            "209":"kongou1",
            "210":"hiei1",
            "211":"haruna1",
            "212":"kirishima1",
            "213":"tenryuu1",
            "214":"tatsuta1",
            "215":"kuma1",
            "216":"tama1",
            "217":"kiso1",
            "219":"isuzu1",
            "220":"yura1",
            "222":"sendai1",
            "223":"jintsuu1",
            "224":"naka1",
            "225":"kagerou1",
            "226":"shiranui1",
            "227":"kuroshio1",
            "228":"yukikaze1",
            "229":"shimakaze1",
            "231":"akebono1",
            "232":"sazanami1",
            "233":"ushio1",
            "234":"akatsuki1",
            "235":"hibiki1",
            "236":"ikazuchi1",
            "237":"inazuma1",
            "238":"hatsuharu1",
            "239":"nenohi1",
            "240":"wakaba1",
            "241":"hatsushimo1",
            "243":"shigure1",
            "245":"yuudachi1",
            "246":"samidare1",
            "247":"suzukaze1",
            "248":"asashio1",
            "249":"ooshio1",
            "250":"michishio1",
            "251":"arashio1",
            "252":"arare1",
            "253":"kasumi1",
            "254":"mutsuki1",
            "255":"kisaragi1",
            "256":"satsuki1",
            "257":"fumizuki1",
            "258":"nagatsuki1",
            "259":"kikuzuki1",
            "260":"mikazuki1",
            "261":"mochizuki1",
            "262":"furutaka1",
            "263":"kako1",
            "264":"aoba1",
            "265":"myoukou1",
            "266":"nachi1",
            "267":"ashigara1",
            "268":"haguro1",
            "269":"takao1",
            "270":"atago1",
            "271":"maya1",
            "272":"choukai1",
            "273":"tone1",
            "274":"chikuma1",
            "275":"nagato1",
            "276":"mutsu1",
            "277":"akagi1",
            "278":"kaga1",
            "279":"souryuu1",
            "280":"hiryuu1",
            "284":"junyou1",
            "285":"houshou1",
            "288":"shoukaku1",
            "289":"kinu1",
            "290":"abukuma1",
            "291":"chitosecvl1",
            "292":"chiyodacvl1",
            "293":"yuubari1",
            "294":"maikaze1",
            "295":"kinugasa1",
            "300":"hatsukaze1",
            "301":"akigumo1",
            "302":"yuugumo1",
            "303":"makigumo1",
            "304":"naganami1",
            "305":"agano1",
            "306":"noshiro1",
            "307":"yahagi1",
            "308":"yayoi1",
            "310":"z11",
            "311":"z31",
            "312":"hamakaze1",
            "313":"tanikaze1",
            "314":"sakawa1",
            "317":"urakaze1",
            "322":"tokitsukaze1",
            "324":"hayashimo1",
            "325":"kiyoshimo1",
            "329":"nowaki1",
            "330":"akizuki1",
            "334":"u5111",
            "343":"katori1",
            "346":"teruzuki1",
            "347":"libeccio1",
            "348":"mizuho1",
            "349":"kazagumo1",
            "350":"umikaze1",
            "351":"kawakaze1",
            "354":"arashi1",
            "355":"hagikaze1",
            "356":"kashima1",
            "357":"hatsuzuki1",
            "358":"zara1",
            "359":"okinami1",
            "398":"i1681",
            "399":"i581",
            "400":"i81",
            "401":"i191",
            "402":"maruyu1",
            "403":"i4011"
        }
    };
})();
